<form id="contact-form">
    <div>
        <label for="name">Name:
            <input type="text" name="from_name" id="name">
        </label>
        <label for="email">Email (required):
            <input type="email" name="user_email" id="email" required="required" aria-required="true">
        </label>
    </div>
    
    <label for="reason">Reason for contacting:</label>
    <select name="reason" id="reason">
        <option value="empty">---Please choose an option--</option>
        <option value="hire">I'm interested in hiring you</option>
        <option value="buy">I'd like to commission you or buy something you made</option>
        <option value="collaborate">I'd like to collaborate with you</option>
        <option value="cool">I want to show you something cool</option>
        <option value="say-hi">Just saying hi</option>
        <option value="other">Other</option>
    </select>

    <label for="message" aria-required="true">Message (required):</label>
    <textarea name="message" id="message" aria-required="true" required="required"></textarea>

    <input type="submit" value="Send Message">
</form>


<!-- maybe a separate file for this unless that makes it too complicated, idk. 
        leave here for testing for now i guess?-->
<script type="text/javascript">
    window.onload = function() {
        let btn = document.querySelector("input[type=\"submit\"]");
        let title = document.querySelector("#contact-form");
        let messageResult = document.querySelector("span");
        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault();
            emailjs.sendForm('service_zb', 'contact_kerryr', this)
                .then(function() {
                    console.log('SUCCESS!');
                    form.classList.add("sent");
                    messageResult.classList.add("sent");
                    messageResult.textContent = "Message sent";
                }, function(error) {
                    console.log('FAILED: ', error);
                    alert("Message failed to send - refresh and try again or contact me via email.")
                    btn.classList.add("fail");
                    btn.value = "Try again";
                });
        });
    }
</script>